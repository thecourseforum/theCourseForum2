{# Course Card Component #}
<a href="{% url 'course' course.subdepartment.mnemonic course.number %}" class="course-card">
  <div class="course-card__main">
    <div class="course-card__header">
      <span class="course-card__code">{{ course.subdepartment.mnemonic }} {{ course.number }}</span>
      <span class="course-card__title">{{ course.title }}</span>
    </div>
    
    <div class="course-card__meta">
      <span class="course-card__stat">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        {{ course.semester_last_taught|default:"—" }}
      </span>
    </div>
    
    {% if course.description %}
    <p class="text-sm text-muted mt-2 line-clamp-2">{{ course.description|truncatewords:30 }}</p>
    {% endif %}
  </div>
  
  <div class="course-card__ratings">
    <div class="rating-stat">
      <div class="rating-stat__value {% if course.average_rating >= 4 %}rating-stat__value--success{% elif course.average_rating >= 3 %}rating-stat__value--warning{% elif course.average_rating %}rating-stat__value--danger{% else %}rating-stat__value--muted{% endif %}">
        {% if course.average_rating %}{{ course.average_rating|floatformat:1 }}{% else %}—{% endif %}
      </div>
      <div class="rating-stat__label">Rating</div>
    </div>
    
    <div class="rating-stat">
      <div class="rating-stat__value {% if course.average_difficulty <= 2.5 %}rating-stat__value--success{% elif course.average_difficulty <= 3.5 %}rating-stat__value--warning{% elif course.average_difficulty %}rating-stat__value--danger{% else %}rating-stat__value--muted{% endif %}">
        {% if course.average_difficulty %}{{ course.average_difficulty|floatformat:1 }}{% else %}—{% endif %}
      </div>
      <div class="rating-stat__label">Difficulty</div>
    </div>
    
    <div class="rating-stat">
      <div class="rating-stat__value {% if course.average_gpa >= 3.5 %}rating-stat__value--success{% elif course.average_gpa >= 2.5 %}rating-stat__value--warning{% elif course.average_gpa %}rating-stat__value--danger{% else %}rating-stat__value--muted{% endif %}">
        {% if course.average_gpa %}{{ course.average_gpa|floatformat:2 }}{% else %}—{% endif %}
      </div>
      <div class="rating-stat__label">GPA</div>
    </div>
  </div>
</a>
