{% extends "base/base.html" %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'common/toolbar.css' %}" />
<link rel="stylesheet" href="{% static 'course/course_professor.css' %}" />
<link rel="stylesheet" href="{% static 'reviews/review.css' %}" />
{% endblock %}

{% block content %}
<div class="course-professor container">

    {% include "common/toolbar.html" with breadcrumbs=breadcrumbs %}

    <div class="d-flex flex-column my-3 mt-md-5">
        <div class="d-md-flex justify-content-center">
            <h1 class="mr-md-3" style="white-space: nowrap">{{ course.code }} |</h1>
            <h1 class="mr-md-3">{{ course.title }}</h1>
        </div>
        <h2 class="text-center mb-3"><a href="{% url 'instructor' instructor_id=instructor.id %}">{{ instructor.full_name }}</a></h2>
    </div>

    <div class="ratings row d-flex mb-3 justify-content-center">
        {% if rating %}
        <div class="card col-lg-3 text-center">
            <div class="card-body">
              <h5 class="card-title display-4">
                  {{ rating|floatformat:2 }}
              </h5>
              <p class="card-text"><i class="fa fa-star fa-fw"></i>&nbsp;Rating</p>
            </div>
        </div>
        {% endif %}
        {% if difficulty %}
        <div class="card mx-2 col-lg-3 text-center">
            <div class="card-body">
              <h5 class="card-title display-4">
                  {{ difficulty|floatformat:2 }}
              </h5>
              <p class="card-text"><i class="fa fa-dumbbbell fa-fw"></i>&nbsp;Difficulty</p>
            </div>
        </div>
        {% endif %}
        {% if hours %}
        <div class="card col-lg-3 text-center">
            <div class="card-body">
              <h5 class="card-title display-4">
                  {{ hours|floatformat:2 }}
              </h5>
              <p class="card-text"><i class="fa fa-hourglass-half fa-fw"></i>&nbsp;Hours/Week</p>
            </div>
        </div>
        {% endif %}
    </div>
    {% if reviews %}
    <div class="dropdown">
      <button id="review-sort-select" class="btn btn-secondary dropdown-toggle" type="button" id="sortOptions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
      <div class="dropdown-menu" aria-labelledby="sortOptions">
        <button id="votes-sort-btn" class="dropdown-item" type="button">Most Helpful</button>
        <button id="recent-sort-btn" class="dropdown-item" type="button">Most Recent</button>
        <button id="highrating-sort-btn"class="dropdown-item" type="button">Highest Rating</button>
        <button id="lowrating-sort-btn"class="dropdown-item" type="button">Lowest Rating</button>
      </div>
    </div>
    {% endif %}

    {% include "reviews/reviews.html" with reviews=reviews %}
    </div>
{% endblock %}

{% block js %}
<script type="module" src="{% static 'reviews/review.js' %}"></script>
{% endblock %}
