{% extends "base/base.html" %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'common/toolbar.css' %}" />
<link rel="stylesheet" href="{% static 'course/course_professor.css' %}" />
<link rel="stylesheet" href="{% static 'reviews/review.css' %}" />
{% endblock %}

{% block content %}

<div class="course-professor container">

  {% include "common/toolbar.html" with breadcrumbs=breadcrumbs %}

  <div class="d-flex flex-column align-items-center my-3 mt-md-5">
    <h1>{{ instructor.full_name }}</h1>
    <div class="d-md-flex">
      <h4 class="mr-md-3">{{ course.code }}</h4>
      <h4 class="mr-md-3">{{ course.title }}</h4>
    </div>
  </div>

  <div class="grades_ratings_container ">
    <div class="ratings_container">
      <div class="ratings_row">
        <div class="rating_card">
          <span class="rating_card_num rating_num">--</span>
          <p class="rating_card_desc"><i class="fa fa-star fa-fw"></i>&nbsp;Rating</p>
        </div>
        <div class="info_container">
          <div class="info_row">
            <div class="info_title">
              Professor
            </div>
            <div class="info_bar">
              <div class="progress p-0 m-0">
                <div class="progress-bar professor-bar p-0 m-0" style="width: 0%"></div>
              </div>
            </div>
            <div class="info_num professor-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Fun
            </div>
            <div class="info_bar">
              <div class="progress p-0 m-0">
                <div class="progress-bar fun-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num fun-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Difficulty
            </div>
            <div class="info_bar">
              <div class="progress  p-0 m-0">
                <div class="progress-bar difficulty-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num difficulty-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Recommend
            </div>
            <div class="info_bar">
              <div class="progress  p-0 m-0">
                <div class="progress-bar recommend-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num recommend-num">
              --
            </div>
          </div>
        </div>
      </div>
      <div class="ratings_row" style="align-items: flex-end">
        <div class="rating_card">
          <span class="rating_card_num hours_num">--</span>
          <p class="rating_card_desc"><i class="fa fa-hourglass-half fa-fw"></i>&nbsp;Hours/Week</p>
        </div>
        <div class="info_container">
          <div class="info_row">
            <div class="info_title">
              Reading
            </div>
            <div class="info_bar">
              <div class="progress  p-0 m-0">
                <div class="progress-bar reading-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num reading-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Writing
            </div>
            <div class="info_bar">
              <div class="progress  p-0 m-0">
                <div class="progress-bar writing-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num writing-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Group
            </div>
            <div class="info_bar">
              <div class="progress  p-0 m-0">
                <div class="progress-bar group-bar p-0 m-0" style="width:0%"></div>
              </div>
            </div>
            <div class="info_num group-num">
              --
            </div>
          </div>
          <div class="info_row">
            <div class="info_title">
              Homework
            </div>
            <div class="info_bar">
              <div class="progress p-0 m-0">
                <div class="progress-bar homework-bar p-0 m-0 {{rating}}" style="width: 0%"></div>
              </div>
            </div>
            <div class="info_num homework-num">
              ---
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="grades_container">
      <canvas id="myChart2" class="pie-chart "></canvas>
      <div class="Absolute-Center">
        <p class="gpa-text"> -- GPA</p>
        <p class="students-text"> -- Students</p>
      </div>
    </div>

  </div>


  <div class="dropdown">
    <button id="review-sort-select" class="btn btn-secondary dropdown-toggle" type="button" id="sortOptions"
      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
    <div class="dropdown-menu" aria-labelledby="sortOptions">
      <button id="votes-sort-btn" onclick="sortReviews(this.id)" class="dropdown-item" type="button">Most
        Helpful</button>
      <button id="recent-sort-btn" onclick="sortReviews(this.id)" class="dropdown-item" type="button">Most
        Recent</button>
      <button id="highrating-sort-btn" onclick="sortReviews(this.id)" class="dropdown-item" type="button">Highest
        Rating</button>
      <button id="lowrating-sort-btn" onclick="sortReviews(this.id)" class="dropdown-item" type="button">Lowest
        Rating</button>
    </div>
  </div>

  {% include "reviews/reviews.html" with reviews=reviews %}
</div>
{% endblock %}

{% block js %}
<script type="module" src="{% static 'reviews/review.js' %}"></script>
<script type="module" src="{% static 'course/javascript/Chart.bundle.js' %}"></script>
<script type="module" src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script>
<script type="module" src="{% static 'course/javascript/chart.js' %}"></script>
<script type="module">

  import { loadData } from "{% static 'course/javascript/chart.js' %}";

  loadData("http://localhost:8000/api/courses/{{course_id}}/?allstats")

</script>
{% endblock %}