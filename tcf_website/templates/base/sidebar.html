{% load static %}

<!-- Sidebar -->
<div class="border-right
d-flex flex-column justify-content-between" id="sidebar-wrapper">
  <div class="list-group list-group-flush">
    <!-- TODO: dashboard for saved courses, enrollment dates, major-specific info, etc -->
    <!-- <a href="{% url 'browse' %}"
       class="list-group-item list-group-item-action">
       <i class="fa fa-star-o fa-fw"></i>&nbsp; Dashboard
    </a> -->
    <a href="{% url 'browse' %}"
       class="list-group-item list-group-item-action
       {% if request.resolver_match.url_name == 'browse' %}active{% endif %}">
       <i class="fa fa-th-large fa-fw"></i>&nbsp; Browse Courses
    </a>
    <a href="{% url 'new_review' %}"
       class="list-group-item list-group-item-action
       {% if request.resolver_match.url_name == 'new_review' %}active{% endif %}">
      <i class="fa fa-pencil-square-o fa-fw"></i>&nbsp; Write Review
    </a>
    <a href="{% url 'about' %}"
       class="list-group-item list-group-item-action
       {% if request.resolver_match.url_name == 'about' %}active{% endif %}">
      <i class="fa fa-code fa-fw"></i>&nbsp; About
    </a>

    <!-- tCF profile dropdown when navbar collapses -->
    {% if user.is_authenticated %}
      <div class="d-md-none list-group-item dropdown">
        <div class="dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fa fa-user fa-fw"></i>&nbsp; Hey, {{user.first_name}}!
        </div>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'profile' %}">Profile</a>
          <a class="dropdown-item" href="{% url 'reviews' %}">My reviews</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
        </div>
      </div>
    {% else %}
      <a href="{% url 'login' %}"
      class="list-group-item list-group-item-action
      {% if request.resolver_match.url_name == 'login' %}active{% endif %}">
        <i class="fa fa-user fa-fw"></i>&nbsp; Sign In
      </a>
    {% endif %}
  </div>

  <div class="footer text-center">
    <a href="{% url 'privacy' %}">Privacy</a> |
    <a href="{% url 'terms' %}">Terms</a>
    <h6>theCourseForum &copy; {{ LATEST_SEMESTER.year }}</h6>
    <p>
        <span>
            <a href="#bugModal" data-toggle="modal" data-target="#bugModal" onclick="setUrlField()"> Found a bug?</a>
        </span>
        {% if DEBUG %}
        <span> | DEBUG Mode</span>
        {% endif %}
    </p>
  </div>
</div>

<!-- found a bug form pop up (modal) -->
<div class="modal fade" id="bugModal" tabindex="-1" role="dialog" aria-labelledby="bugModal" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title center" id="bugModal">Report a Bug </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="needs-validation" novalidate>
          <div class="form-row">
              <label for="urlField">URL</label>
              <input type="text" class="form-control" id="urlField" placeholder="thecourseforum.com" value="thecourseforum.com" required>
              <div class="valid-feedback">
                Looks good!
              </div>
          </div>
          <div class="form-row">
              <label for="emailField">Email (leave blank to remain anonymous)</label>
              <input type="text" class="form-control" id="emailField" placeholder="example@virginia.edu">
          </div>
          <div class="form-row">
              <label for="descriptionField">Description</label>
              <textarea class="form-control" id="descriptionField" rows="3" placeholder="Please be as detailed as possible!" required></textarea>
              <div class="valid-feedback">
                Looks good!
              </div>
          </div>
          <div class="form-row justify-content-center">
            <button type="submit" class="btn btn-primary align-self-center">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- /#sidebar-wrapper -->

{% block js %}
<script src="{% static 'base/bugform.js' %}"></script>
{% endblock %}
